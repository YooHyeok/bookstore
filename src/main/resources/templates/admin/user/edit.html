<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head th:replace="fragments/common :: head('board - 콘아롱 책방')"/>
<body>
    <div id='wrap'>
        <section>
            <div class="container" th:replace="fragments/common :: menu('adminBook')"/>
            <main role="main" class="container pt-4">
                <div class="container" data-aos="fade-up">
                    <h3 class="pb-3 font-italic">User Edit</h3>
                    <form th:action="@{/admin/edit/{userId}(userId=*{id})}" method="post" role="form" th:object="${userDto}">
                    <input type="hidden" name="_method" value="put"> <!-- HiddenHttpMethodFilter 사용 -->
                        <div class="form-row">
                            <div class="col-lg-4 col-md-6 pb-3 form-group">
                                <p class="my-1">프로필 사진</p>
                                <img class="form-control" id="thumbnail_container" th:src="'/files/'+ *{profileUseDto}" style="max-width: 100%; height: auto;">
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">아이디</label>
                                <input type="text" class="form-control" th:field="*{uid}" readonly>

                                <p class="my-1">권한</p>
                                <select class="custom-select" th:field="*{roleUseDto}">
                                    <option value="ROLE_USER">ROLE_USER</option>
                                    <option value="ROLE_MANAGER">ROLE_MANAGER</option>
                                    <option value="ROLE_ADMIN">ROLE_ADMIN</option>
                                </select>

                                <p class="my-1">가입일</p>
                                <input type="text" class="form-control" th:field="*{sinceUseDto}" readonly>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">이름</label>
                                <input type="text" class="form-control" th:field="*{name}">
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">휴대전화</label>
                                <input type="text" class="form-control" th:field="*{phone}">
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">닉네임</label>
                                <input type="text" class="form-control" th:field="*{nickname}">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">이메일</label>
                                <input type="text" class="form-control" th:field="*{email}">
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">생년월일</label>
                                <input type="text" class="form-control" th:field="*{birth}" readonly>
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">성별</label>
                                <input type="text" class="form-control" th:field="*{gender}" readonly>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">우편번호</label>
                                <input type="text" class="form-control" th:field="*{postcode}">
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">주소</label>
                                <input type="text" class="form-control" th:field="*{address}">
                            </div>
                            <div class="col-lg-4 col-md-6 form-group">
                                <label class="my-1">상세주소</label>
                                <input type="text" class="form-control" th:field="*{detailAddress}">
                            </div>
                        </div>

                        <div class="pb-3 form-group">
                            <p class="my-1">자기소개</p>
                            <textarea class="form-control" name="message" ></textarea>
                        </div>

                        <div class="pb-5 text-right">
                            <a th:href="@{/admin/user}" class="btn btn mr-2 mb-2 btn-outline-danger" style="float: left">계정삭제</a>
                            <a th:href="@{/admin/user/{userId}(userId=*{id})}" class="btn btn mr-2 mb-2 btn-outline-secondary">이전으로</a>
                            <button type="submit" class="btn btn mr-2 mb-2 btn-outline-primary">수정완료</button>
                        </div>
                    </form>
                </div>
            </main>
        </section>
        <footer th:replace="fragments/common :: footer"/>
    </div>
</body>
</html>